<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>flex.html</title>
    <style>
        *{
            box-sizing: border-box;
        }
        .template{
            width: 800px;
        }
        .title{
            height: 50px;
        }
        .area {
            display: flex;
            flex-wrap: wrap;
            background-color: #fffbe6;
            outline: 1px dashed #e7c680;
        }
        .area div{
            height: 100px;
        }
        .flex_all {
            width: 100%;
        }
        .flex_half {
            width: 50%;
        }
    </style>
    <script src="//cdn.bootcss.com/jquery/1.12.4/jquery.min.js" type="text/javascript"></script>
</head>
<body>
<p>

</p>
<div id="container" class="template">
    <!--<div class="flex_all title"></div>-->
    <!--<div class="area">-->
        <!--<div class="flex_half">1</div>-->
        <!--<div class="flex_half">2</div>-->
    <!--</div>-->
    <!--<div class="flex_all title">3</div>-->
    <!--<div class="flex_half">4</div>-->
    <!--<div class="flex_all">5</div>-->
    <!--<div class="flex_all title">6</div>-->
</div>
<script>
    var $container = $('#container');
    var innerHtml = '';

    var problems_1 = [1,2,2,1,2,1];
    var problems_2 = [1];
    var problems_3 = [2];
    var problems_4 = [2,1];
    var problems_5 = [1,2];
    var problems_6 = [1,1];
    var problems_7 = [2,2];
    var problems_8 = [1,2,2];
    var problems_9 = [2,2,1];
    var problems_10 = [1,2,1];
    var problems_11 = [2,1,2];
    var problems_12 = [2,1,1];
    var problems_13 = [1,1,2];
    var problems_14 = [1,1,1];
    var problems_15 = [2,2,2];
    var problems = problems_1;
    var len = problems.length;
    var areaStart = true;
    $.each(problems, function (index, value) {
        if (value === 1) {
            innerHtml += '<div class="flex_all title">' + index + '</div>';
        } else {
            if (areaStart) {
                innerHtml += '<div class="area">';
                areaStart = false;
            }
            innerHtml += '<div class="flex_half">' + index + '</div>';
            if (index === len - 1 || problems[index + 1] === 1) {
                innerHtml += '</div>';
                areaStart = true;
            }
        }
    });
    $container.html(innerHtml);
</script>

</body>
</html>